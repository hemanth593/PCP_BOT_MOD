<!DOCTYPE html>
<html>
<head>
<title>Введение в пилотный скриптинг — UoPilot</title>
<meta charset="UTF-8" />
<link rel="stylesheet" href="styles" />
</head>
<body>
<h1 id="firstHeading" class="firstHeading" lang="ru">Введение в пилотный скриптинг</h1>
	
	<h2><span id="Теория"></span><span class="mw-headline" id=".D0.A2.D0.B5.D0.BE.D1.80.D0.B8.D1.8F">Теория</span></h2>
<p>Это небольшое обучение расчитано на тех кто не знаком со скриптами и программированием.
Итак как работает скрипт и что в нем есть:
Код состоит из текста(=команд) выполнение которого происходит построчно начиная с первой и до последней строки, но для 
обеспечения ветвления логики (=условных переходов) возможно как пропустить строки так и перейти в конкретное место.
Команды состоят из групп переменных, операторов и функции, переменные это контейнеры в которые можно помещать числа или 
строки(буквы+цифры), переменные бывают трех типов, это числовые начинающиеся с #, строковые $, и массивы&#160;% представляющие 
собой переменные сгрупированные под одним именем:<br />
</p>
<pre>set #a 1
set $b "asd"
set %c[1] 1
set %c[2] "asd"
set %c[3] "asd 1"
</pre>
<p>Таким образом мы можем думать о переменных как о данных с которыми можно делать много чего интересного.
</p><p>Функции и команды позволяют производить разнообразные действия с переменными и не только, некоторые функции могут возвращать 
значения, например "set #a 1" вместо 1 может быть функция которая вернет что то, set поместит это в #a, так же для работы 
функций им нужны параметры(переменные-данные), это можно написать так "Функция1(параметр1 параметр2 3.. 4.. и тд.)", можно 
сравнить с соковыжималкой(функция) и яблоком(данные), на выходе имеем сок(результат работы) и мякоть(возврашенные данные), 
притом и функции и соковыжималки требуют для работы электричество(выполнение) 
Дальше приводится описание самых необходимых команд и функций для начала скриптописания:
</p>
<pre><b>//</b> коментарий, все что после "//" в этой строке не выполняется
</pre>
<p><b>set</b> обьявление переменной и или присваивание значения:<br />
</p>
<pre>set #a 1 //создание переменной #a и присваивание ей числа 1
set #a #a + 2 // присваивание #a ее же значение но +2, после выполнения #a будет содержать 3
</pre>
<p><b>wait</b> ожидание, можно указать с точностью до 1 милисекунды:<br />
</p>
<pre>wait 1s // ждать 1 секунду
wait 2823 // ждать 2 секунды и 823 милисекунды
</pre>
<p><b>if</b> условный оператор, в результате вычисления выражения, тело "ифа" либо выполняется либо нет, выражения идут после if и 
должны быть в формате больше(&gt;), меньше(&lt;), равно(=), не(!), то есть приводить условие к однозначному результату ДА(true) 
или НЕТ(false), можно использовать несколько выражений соединенных and(и), or(и или), xor(или):<br />
</p>
<pre>if (#a &gt; 0) and (#a &lt; 10) // если #a больше чем ноль и меньше 10 тогда выполнится тело условия
    set #a 11 // это тело условия
    set $string asd11 // это тело условия
end_if // конец условия
</pre>
<p><b>while</b> условный цикл "пока истинно", тоже самое что и if только после выполнения тела, перехода к следующей строчке после 
конца условия не будет, вместо этого опять вычислится выражение и если оно НЕТ(false) тогда будет выход из цикла, если 
ДА(true) тогда сново выполнится тело:<br />
</p>
<pre>while (#a &gt; 0) and (#a &lt; 10) // если #a больше чем ноль и меньше 10 тогда выполнится тело условного цикла
    set #a #a + 1 // это тело условного цикла
    set $string asd11 // это тело условного цикла
end_while // конец условного цикла
</pre>
<p><b>left</b> кликнуть левой кнопкой мышки по координатам (=курсором), сначала пишется горизонтальная координата (X), а затем вертикальная (Y):<br />
</p>
<pre>left 450, 220// кликнуть левой кнопкой по координатам X=450, Y=220
</pre>
<p><b>send</b> нажать кнопку, в разных ОС что бы работало как надо, кнопку необходимо заключаться в {}:<br />
</p>
<pre>send N // нажать кнопку N
send {N} // нажать кнопку N
send F1 // нажать кнопку F1
</pre>
<p><b>findcolor</b> поиск точки по цвету в квадратной области, возвращает сколько точек найдено и где, параметры:<br />
FindColor (левыйКрайОбласти верхнийКрайОбласти правыйКрайОбласти нижнийКрайОбласти шагПоискаГоризонталь шагПоискаВертикать 
цвет массивДляКоординат типПоиска), пример:<br />
</p>
<pre>set $a findcolor (154, 80 318, 260 1 1 2366701 %arr 2) // вернёт в $a сколько нашлось, вернёт в %arr координаты каждой найденной точки
</pre>
<p><b>end_script</b> завершение работы скрипта, можно не использовать и тогда в конце скрипта выполнение перейдет на первую строчку.<br />
</p>
<h2><span id="Практика"></span><span class="mw-headline" id=".D0.9F.D1.80.D0.B0.D0.BA.D1.82.D0.B8.D0.BA.D0.B0">Практика</span></h2>
<p>Теперь можно использовать полученные знания и написать пару простейших ботов, сперва нужно привязать скрипт к целевому окну, 
что бы это сделать поместите пилот поверх окна, разместите курсор мыши над окном и нажмите ctrl+A:<br />
1)<br />
</p>
<pre>send F1 // нажать F1
wait 3000 // ждать 3сек
send G // нажать G
wait 15s // ждать 15сек, по завершинии ожидания сново выполнится "send F1"
//end_script // завершиние работы скрипта закоментированно, поэтому работать код будет до ручного выключения
</pre>
<p>2)<br />
</p>
<pre>set $a 0 // для старта условного цикла нужна переменная $a с значением 0
while $a &lt; 1 // пока $a меньше 1, то есть тело будет выполнятся пока функция findcolor не вернет в $a по крайней мере 1 (количество найденных точек)
    set $a findcolor (154, 80 318, 260 1 1 2366701 %arr 2) // когда функция найдет точку она поместит ее координаты в %arr 
    wait 10 // ждать 10мс
end_while // конец цикла, переход к следующей строчке будет только тогда когда findcolor что то найдет и в $a будет уже не 0
left %arr [1 1], %arr [1 2] // кликнуть мышкой по первой найденной точке,горизонтальная координата=%arr[1 1] вертикальная=%arr[1 2]
wait 3s // ждать 3сек
send F7 // нажать F7
wait 7s // ждать 7сек, после ожидания выполнение перейдет на первую строчку где $a будет присвоено 0, благодаря чему цикл while сможет опять запустится 
</pre>
<p>Это только маленькая часть функций, полное описание можно найти тут:<br />
UOPilot Wiki <a rel="nofollow" class="external free" href="http://uopilot.tati.pro">http://uopilot.tati.pro</a><br />
UOPilot-&gt;?-&gt;Помощь по языку скриптов<br />
UOPilot-&gt;?-&gt;История развития программы<br />
</p>





		
		
		
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
		
		<div class="visualClear"></div>
		
	</div>
</div>

		
<br>
<div class="printfooter">Источник — <a dir="ltr" href="https://uopilot.uokit.com/wiki/index.php?title=Введение_в_пилотный_скриптинг&amp;oldid=831">https://uopilot.uokit.com/wiki/index.php?title=Введение_в_пилотный_скриптинг&amp;oldid=831</a></div></body>
</html>
 