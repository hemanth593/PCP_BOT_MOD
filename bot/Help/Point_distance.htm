<!DOCTYPE html>
<html>
<head>
<title>Point distance — UoPilot</title>
<meta charset="UTF-8" />
<link rel="stylesheet" href="styles" />
</head>
<body>
<h1 id="firstHeading" class="firstHeading" lang="ru">Point distance</h1>
	
	<h2><span id="Описание"></span><span class="mw-headline" id=".D0.9E.D0.BF.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5">Описание</span></h2>
<p>Возвращает расстояние между двумя точками в виде дробного числа, представленного строкой.
</p>
<h2><span id="Синтаксис"></span><span class="mw-headline" id=".D0.A1.D0.B8.D0.BD.D1.82.D0.B0.D0.BA.D1.81.D0.B8.D1.81">Синтаксис</span></h2>
<p>Привязка к окну: нет.
<br />Работа со свернутым окном: да.
</p>
<pre>point_distance (&lt;#x1&gt; &lt;#y1&gt; &lt;#x2&gt; &lt;#y2&gt;)
</pre>
<p>&lt;#x1&gt;, &lt;#y1&gt; - координаты x и y 1-й точки
<br />&lt;#x2&gt;, &lt;#y2&gt; - координаты x и y 2-й точки.
</p>
<h2><span id="Примеры"></span><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B">Примеры</span></h2>
<pre>// пример использования 1
set #x1 0 // координаты 1-й точки
set #y1 0
set #x2 3 // координаты 2-й точки
set #y2 5

set $d point_distance(#x1 #y1 #x2 #y2) // получили дробное число в виде строки
set #dist round( $d ) // округлили число в виде текста до ближайшего целого числа 
msg Округлённое расстояние $d = #dist
end_script
</pre>
<pre>// пример использования 2
// поиск ближайшей к персу точки
set linedelay 1 // устанавливаем задержку между строк в 1 мс
set #persX 10 // координаты перса
set #persY 10
init_arr %a(1) 3 2 // координаты X Y 1-й точки 
init_arr %a(2) 16 14 // координаты X Y 2-й точки 
init_arr %a(3) 25 30 // координаты X Y 3-й точки 
//init_arr %a(1 2) 3 2, 16 14, 25 30 // а можно было и в одну строчку сделать

set #min 9999999 // тут будем подбирать расстояние
set #minNum -1 // тут будем хранить номер строки массива с "оптимальными" координатами
set #a size(%a) // число строк в массиве %a

for #i 1 #a
 set #x %a[#i 1]
 set #y %a[#i 2]
 log x=#x, y=#y // записали данные в лог (для справки)
 set $d point_distance(#persX #persY #x #y ) // получили дробное число в виде строки
 set #dist round( $d ) // округлили число в виде текста до ближайшего целого числа
 log #dist // записали данные в лог (для справки)
 
 if #dist &lt; #min
    set #min #dist
    set #minNum #i
 end_if    
end_for
if #minNum &gt; 0
  msg Ближайшая точка № #minNum, расстояние = #min
else
  msg Почему-то не удалось найти ближайшую точку
end_if
end_script
</pre>
<h2><span id="Смотрите_также"></span><span class="mw-headline" id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5">Смотрите также</span></h2>
<p><a href="https://uopilot.uokit.com/wiki/index.php?title=Mod" title="Mod">mod</a> (x y) - Возвращает остаток от деления 'x' на 'y'.
<br /><a href="https://uopilot.uokit.com/wiki/index.php?title=Div" title="Div">div</a> (x y) - Возвращает целую часть от деления 'x' на 'y'.
</p>
<h2><span id="История_развития"></span><span class="mw-headline" id=".D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.B2.D0.B8.D1.82.D0.B8.D1.8F">История развития</span></h2>
<p><b>2.32</b>
<br />Добавил несколько ненужных функций обработки вещественных чисел и строковых переменных. Десятичным разделителем считается запятая. <br />Почти все функции при ошибках возвращают '-1'.
<br />abs(x) - Возвращает абсолютную величину x.
<br />round(x) - Возвращает x, округлённый до самого близкого целого числа.
<br />floor(x) - Возвращает x округлённый до ближайшего целого числа, которое меньше x.
<br />ceil(x) - Возвращает x округлённый до ближайшего целого числа, которое больше x.
<br />frac(x) - Возвращает дробную часть x, то есть часть, стоящую позади десятичной точки.
<br />sqrt(x) - Возвращает квадратный корень из абсолютного значения x.
<br />power(x n) - Возвращает x в степени n.
<br />exp(x) - Возвращает e в степени x.
<br />ln(x) - Возвращает натуральный логарифм от x.
<br />log(n x) - Возвращает логарифм от x по основанию n.
<br />sin(x) - Возвращает синус x (в радианах).
<br />cos(x) - Возвращает косинус x (в радианах).
<br />tan(x) - Возвращает тангенс x (в радианах).
<br />arcsin(x) - Возвращает арксинус x.
<br />arccos(x) - Возвращает арккосинус x.
<br />arctan(x) - Возвращает арктангенс x.
<br />degtorad(x) - Преобразовывает градусы в радианы.
<br />radtodeg(x) - Преобразовывает радианы в градусы.
<br />trunc(x) - Отбрасывает дробную часть.
<br />minx(val1 val2 val3 ...) - Возвращает минимальную из величин.
<br />maxx(val1 val2 val3 ...) - Возвращает максимальную из величин.
<br />mean(val1 val2 val3 ...) - Возвращает среднее арифметическое.
<br />point_distance(x1 y1 x2 y2) - Возвращает расстояние между точкой (x1,y1) и (x2,y2).
<br />point_direction(x1 y1 x2 y2) - Возвращает угол (в градусах) между осью X и вектором с началом в точке (x1,y1) и окончанием в точке (x2,y2).
<br />lengthdir_x(len dir) - Возвращает горизонтальный x-катет вектора определённый указанной длиной и направлением.
<br />lengthdir_y(len dir) - Возвращает вертикальный y-катет вектора определённый указанной длиной и направлением.
<br />в lengthdir_x и lengthdir_y направление dir задаётся в градусах, причем отсчет угла идет от направления "Север" (от оси Y). По часовой стрелке "+", против часовой "-".
<br />is_real(x) - Возвращает 1, если x число.
<br />is_string(x) - Возвращает 1, если x является строкой (не число).
<br />chr(val) - Возвращает символ с ASCI кодом val.
<br />ord(str) - Возвращает ASCI код первого символа в строке str.
<br />string_replace(str substr newstr [all]) - Возвращает строку str, в которой встречающаяся подстрока substr будет заменена на подстроку newstr.
<br />string_count(substr str) - Возвращает число, показывающее, сколько раз подстрока substr встречается в строке str.
<br />string_lower(str) - Возвращает строку str, записанную маленькими буквами.
<br />string_upper(str) - Возвращает строку str, записанную большими буквами.
<br />string_letters(str) - Возвращает строку str, выбрасывая из неё все числа.
<br />string_digits(str) - Возвращает строку str, выбрасывая из неё все буквенные символы.
<br />Pi - 3,1415926535897932385.
</p>





		
		
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a  title="Служебная:Категории">Категории</a>: <ul><li><a  class="new" title="Категория:Текст (страница не существует)">Текст</a></li><li><a  class="new" title="Категория:Преобразование чисел (страница не существует)">Преобразование чисел</a></li></ul>
		
		<div class="visualClear"></div>
		
	</div>
</div>

		
<br>
<div class="printfooter">Источник — <a dir="ltr" href="https://uopilot.uokit.com/wiki/index.php?title=Point_distance&amp;oldid=691">https://uopilot.uokit.com/wiki/index.php?title=Point_distance&amp;oldid=691</a></div></body>
</html>
 